# HDU多校2019训练记录+题解+补题进度

[HDU 2019补题进度总览表](https://github.com/Dafenghh/Training_Summary/blob/master/HDU_train_2019%E8%A1%A5%E9%A2%98%E8%BF%9B%E5%BA%A6%E6%80%BB%E8%A7%88%E8%A1%A8.md)


## 20190723 第一场

### 总结

#### Dafeng 
今天这场的A，数组开小导致WA, 赛后10min才过。究其原因，我本来是想将第二维表示成
0,1,2的，但写的时候发现表示成1,2,3会更自然，然后就改了……但此时数组已经定义好在上面，忘了改回去……

能过A就很好了呀，明明是开场就想出来的题。

这个教训我，上机之前一定得梳理好思路。敲代码的时候，如果中途对思路进行修改，哪怕是很微小的修改，都有可能导致程序不一致。

M题敲得也有些慢，有些特殊情况没有考虑到。还敲错了一个变量名。没有1A是遗憾。

总之上机码题时，我需要保持住最清醒的状态，力求减少错误。

但今天队友发挥得不错，校内rank也比较好看。

#### Zayin
最近演的死去活来的，一上来就被D关住了，还是Dafeng比较强帮我解的围。  
然后就是快乐自（yan）闭（xi）三小时，甚至还让wcy1122去抄了份多项式全家桶，好像还是假的板子？  
后期可能清醒了一点，连着就把K，L给过了，然后B敲了一发假做法T掉了，虽然后来想到了正解但已经没有时间了...  
  
演员是我本人了，每次一到关键时候就演起来了....  

#### wcy1122
划了一下午水，除了签了道I题，帮Zayin抄了个假板子（雾）剩下啥都没做。
今天状态不是很好，很多不算太难的题都没有想出来，感谢队友带飞。

### 题解


#### A Blank  (By dafeng)

`dp[i][j][k][t]`表示前i个位置，从位置i往左看，第一个不同的位置是j，第二个不同的位置是k，第三个不同的位置是t的方案数。转移O(4).
#### B Operation [(By Zayin)](https://github.com/Dafenghh/Training_Summary/blob/master/code/HDU2019/day1/B_Zayin.cpp)
在比赛时想着往后维护线性基，但这样做的后果是不能知道线性基的大小顺序。  
所以考虑往前维护，相当于在前一个线性基集的基础上再加一个数。  
那么如果遇到一个可以替换的，肯定是把他替换掉最优（尽量往右），然后替换掉后继续往低位类似更新即可。  

时间复杂度`O(nlogw)`

#### F Typewriter (By wcy1122)
一道SAM题，之前没见过类似的模型。
枚举位置i，维护一个位置j(j<=i)，表示(j~i)的字串出现在(1~j-1)字串中。我们可以花费q的代价将(j~i)字串直接黏贴过去。
显然f[i]单调不降，所以选最长的肯定是最优的，转移方程：`f[i]=max(f[i-1]+p,f[j-1]+q)`
我们可以使用SAM来维护j。
维护(j~i-1)字串在SAM的位置pos。考虑加入s[i]，如果pos存在s[i]这个分支，说明可以直接匹配，则直接将pos转移即可。
否则，将s[j]加入SAM，并重新计算(j+1~i)字串在(1~j)字串构成的SAM中对应的位置。
如何计算？如果自动机pos位置代表的字符串的最小长度>=(i-j-1)，那么这个位置就是合法的，能够标志(j+1~i)这个字串。否则，把pos跳向它的fail，继续比较。
时间复杂度`O(n)`
